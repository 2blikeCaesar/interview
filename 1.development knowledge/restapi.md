# REST API

## 1. 개념
REST(REpresentational State Transfer) 은 HTTP의 창시자 중 한명인 Roy Fielding의 논문에 처음 소개가 되었다.

이유는 현재의 아키텍처들이 웹의 본래 설계의 우수성을 사용하지 못한다고 판단해서 이런 아키텍처를 ㅏㅂㄹ표하였다.

## 2. 구성

REST는 리소스, 메소드, 메시지 3가지 요소로 구성된다.

"과일 주문을 생성한다" 라는 호출의 경우

주문은 리소스

생성은 메소드

과일은 메시지가 된다.

### 2.1 리소스

일반적으로 리소스의 경우 URI로 표현이 된다.

즉 아래와 같은 URI는 주문 리소스에 해당이 된다.

~~~
http://localhost:8080/orders
~~~

리소스는 일반적으로 명사로 표현이 된다.

만약 세부 리소스를 조회하게 될 경우 id와 같은 유니크한 문자를 붙여서 표현을 한다.

일반적으로 리소스에는 파일 확장자를 붙이지 않고 가독성을 높이고 싶다면 -를 이용하여 표현한다.

그리고 소문자만을 이용해야 하는데 대소문자에 따라 다른 리소스로 인식하기 때문이다.

### 2.2 메소드 (행위)

메소드는 일반적으로 4개의 HTTP 메소드를 사용한다.

CRUD에 매핑이 되는 메소드가 존재하며

POST, GET, DELETE, PUT 이 존재한다.

즉 같은 리소스라도 메소드에 따라서 결과는 완전히 달라진다.

만약 GET 메소드를 이용하여 리소스를 호출하면 조회를 하게 되지만

DELETE 메소드를 이용한다면 삭제라는 행위를 하게 된다.

### 2.3 메시지

메시지는 일반적으로 헤더와 바디를 명확하게 분리해서 사용해야 한다.


## 3. RESTful

RESTful 스럽게 api를 디자인하는 방법에는 위에서도 설명하였듯이 몇가지 방법이 존재한다.

* 리소스는 명사로 표기한다.

* 하고자하는 행위 즉 메소드는 HTTP 메소드로 구분한다.

* Entity에 대한 내용은 body에 담는다.

* 계층 관계는 /로 구분한다.

* 리소스 즉 URI 마지막에는 /를 넣지 않는다.

* 가독성을 높일 때는 -을 사용한다. 반면 언더바는 사용하지 않는다.

* 소문자로 URI를 설계한다.


## 4. 장점

* 리소스와 메소드를 통해서 서비스를 제공하니 Open API를 제공하기 쉽다.

* 정해진 규격 (json/xml 등)을 주고 받기 때문에 플랫폼과 언어에 종속적이지 않다.

* 기존 인프라를 그대로 사용할 수 잇따.

## 5. 단점

* 메소드가 한정적이다.

* 타입 유효성 부재

## 6. REST의 특징

* 유니폼 인터페이스 - HTTP 표준에만 따른다면 어떠한 기술이던지 사용이 가능하다. 예를 들어 HTTP + JSON 으로 REST API를 구현하였다면 특정 언어나 기술에 종속 받지 않고 HTTP와 JSON을 사용 가능한 플래폼에서 사용가능하다.

* 무상태성 - 세션과 같은 컨텍스트 저장소에 상태 정보를 저장하지 않는 형태이다. API 서버는 들어오는 요청만을 처리하면 되기 때문에 구현이 간단해 진다.

* 캐쉬 가능 - HTTP 웹 표준을 그대로 사용하기 때문에 기존의 인프라를 그대로 사용 가능하다. 많은 서비스의 대부분의 트랙잭션이 일반적인 조회라는 것을 감안하면 캐슁 기능은 매우 필요한 기능이다. Last Modified 태그나 E-Tag를 이용하면 구현이 가능하다.

* 클라이언트 서버 구조 - REST 서버는 API를 제공하고 비즈니스 로직 및 처리 등을 담당한다.
 클라이언트는 사용자 인증이나 컨텍스트 등을 관리하고 책임진다. 따라서 개발해야 할 내용이 명확해지기 때문에 의존성이 줄어 든다.

* 자체 표현 구조 - API만 보고도 이를 쉽게 이해 할 수 있는 자체 표현 구조로 되어 있다. 즉 리소스와 메소드를 보고 어떠한 작업을 하는지 쉽게 파악이 가능하다.

* 계층형 구조 - REST서버는 다중 계층으로 구성 될 수 있고 보안이나 로드밸런싱 등의 계층을 추가해 유연성을 만들 수 있다.





ㅇ
